
INCLUDE Irvine32.inc
;INCLUDE libwinmm.inc

.data

opsreen    db " !  [---------------------------------------------------------------------------------------------------------------]  !", 0
		   db "    | [--------------------------------------       Muhammad Saad Raza      --------------------------------------] |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | | . . . . . [-----------------------------------------------------------------------------------] . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |    @@@@@@@@      @         @@@@@          @         @       @       @      @      | . . . . . | |   ", 0
		   db "    | | . . . . . |    @@@@@@@@@@   @@@      @@@@@@@@@        @@@     @@@      @@@      @@@    @      | . . . . . | |   ", 0
		   db "    | | . . . . . |    @@@@@@@@@@  @@@@@    @@@@@@@     @@@@  @@@@@ @@@@@     @@@@@     @@@@   @      | . . . . . | |   ", 0
		   db "    | | . . . . . |    @@@@@@@@   @@@@@@@   @@@@@@@     @@@@  @@@@@@@@@@@    @@@@@@@    @@@@@  @      | . . . . . | |   ", 0
		   db "    | | . . . . . |    @@@@@     @@@@@@@@@   @@@@@@@@@        @@@@@@@@@@@   @@@@@@@@@   @@@@@@ @      | . . . . . | |   ", 0
		   db "    | | . . . . . |    @@@@@    @@@@@@@@@@@    @@@@@          @@@@@@@@@@@  @@@@@@@@@@@  @@@@@@@@      | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . {-----------------------------------------------------------------------------------} . . . . . | |   ", 0
		   db "    | | . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . | |   ", 0
		   db "    | | . . . . . [-----------------------------------------------------------------------------------] . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |           Enter your name                                                         | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . {-----------------------------------------------------------------------------------} . . . . . | |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | {---------------------------------------        Muhammad Saad Raza     -------------------------------------} |   ", 0
           db "!   {---------------------------------------------------------------------------------------------------------------}  !", 0





mnsreen    db " !  [---------------------------------------------------------------------------------------------------------------]  !", 0
		   db "    | [--------------------------------------           PAC MAN               ------------------------------------] |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | | . . . . . [-----------------------------------------------------------------------------------] . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                          G.Play                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                          I.Instructions                                           | . . . . . | |   ", 0
		   db "    | | . . . . . |                          H.High Score                                             | . . . . . | |   ", 0
		   db "    | | . . . . . |                          E.Exit                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . {-----------------------------------------------------------------------------------} . . . . . | |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | {--------------------------------------           PAC MAN               ------------------------------------} |   ", 0
           db "!   {---------------------------------------------------------------------------------------------------------------}  !", 0





Insreen    db " !  [---------------------------------------------------------------------------------------------------------------]  !", 0
		   db "    | [--------------------------------------           PAC MAN               ------------------------------------] |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | | . . . . . [-----------------------------------------------------------------------------------] . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                          W.UP                                                     | . . . . . | |   ", 0
		   db "    | | . . . . . |                          S.DOWN                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                          D.RIGHT                                                  | . . . . . | |   ", 0
		   db "    | | . . . . . |                          A.LEFT                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                          E.BACK                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . {-----------------------------------------------------------------------------------} . . . . . | |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | {--------------------------------------           PAC MAN               ------------------------------------} |   ", 0
           db "!   {---------------------------------------------------------------------------------------------------------------}  !", 0





hgsreen    db " !  [---------------------------------------------------------------------------------------------------------------]  !", 0
		   db "    | [--------------------------------------           PAC MAN               ------------------------------------] |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | | . . . . . [-----------------------------------------------------------------------------------] . . . . . | |   ", 0
		   db "    | | . . . . . |                             Score Board                                           | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                    Name                   Score                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                    Muhammad Saad          1000                                    | . . . . . | |   ", 0
		   db "    | | . . . . . |                    Ahmed                  900                                     | . . . . . | |   ", 0
		   db "    | | . . . . . |                    Salman                 700                                     | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . {-----------------------------------------------------------------------------------} . . . . . | |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | {--------------------------------------           PAC MAN               ------------------------------------} |   ", 0
           db "!   {---------------------------------------------------------------------------------------------------------------}  !", 0






ensreen    db " !  [---------------------------------------------------------------------------------------------------------------]  !", 0
		   db "    | [--------------------------------------           PAC MAN               ------------------------------------] |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | | . . . . . [-----------------------------------------------------------------------------------] . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |   @@@@@@@   @@@@@  @@@    @@@ @@@@@@@      @@@@@@  @@    @@ @@@@@@@ @@@@@@        | . . . . . | |   ", 0
		   db "    | | . . . . . |  @@@       @@   @@ @@@@  @@@@ @@          @@    @@ @@    @@ @@      @@   @@       | . . . . . | |   ", 0
		   db "    | | . . . . . |  @@@   @@@ @@@@@@@ @@ @@@@ @@ @@@@@       @@    @@ @@    @@ @@@@   @@@@@@@        | . . . . . | |   ", 0
  	       db "    | | . . . . . |  @@@    @@ @@   @@ @@  @@  @@ @@          @@    @@  @@  @@  @@      @@   @@       | . . . . . | |   ", 0
		   db "    | | . . . . . |   @@@@@@@  @@   @@ @@      @@ @@@@@@@      @@@@@@    @@@@   @@@@@@@ @@   @@       | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                      You MADE IT TO LEVEL                WITH A SCORE             | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . |                                                                                   | . . . . . | |   ", 0
		   db "    | | . . . . . {-----------------------------------------------------------------------------------} . . . . . | |   ", 0
		   db "    | {-----------------------------------------------------------------------------------------------------------} |   ", 0
		   db "    | [-----------------------------------------------------------------------------------------------------------] |   ", 0
		   db "    | {--------------------------------------           PAC MAN               ------------------------------------} |   ", 0
           db "!   {---------------------------------------------------------------------------------------------------------------}  !", 0






	lvl1    db " ![------------------------------------------------------------------------------------------------------------------] !", 0
		    db " [}. . . . . . . . . . . . | | . . . . . . . . . . . . | | SCORE:                                            LVL:    {-]", 0
		    db " | . [-----] . [-------] . | | . [-------] . [-----] . | {-------------------------------------------------------------}", 0
			db " | ~ |     | . |       | . | | . |       | . |     | ~ | |                                                              ", 0
			db " | . {-----} . {-------} . {-} . {-------} . {-----} . | | @@@@@@@     @        @@@@    @       @      @      @    @@@  ", 0
			db " | . . . . . . . . . . . . . . . . . . . . . . . . . . | | @@@@@@@@   @@@     @@@@@@@@  @@@   @@@     @@@     @@@  @@@  ", 0
			db " | . [-----] . [-] . . . . . . . . . . [-] . [-----] . | | @@@@@@@@  @@@@@   @@@@@      @@@@@@@@@    @@@@@    @@@@@@@@  ", 0
			db " | . {-----} . | | . . . . . . . . . . | | . {-----} . | | @@@@     @@@@@@@   @@@@@@@@  @@@@@@@@@   @@@@@@@   @@@@@@@@  ", 0
			db " | . . . . . . | | . . . . . . . . . . | | . . . . . . | | @@@@    @@@@@@@@@    @@@@    @@@@@@@@@  @@@@@@@@@  @@@@@@@@  ", 0
			db " {---------] . | {---------------------} | . [---------} |                              by Muhammad Saad Raza           ", 0
			db "           | . | [---------------------] | . |           |                                                              ", 0
			db "           | . | | . . . . . . . . . . | | . |           [-------------------------------------------------------------]", 0
			db "           | . | | . [-------------] . | | . |           | RULES:                                                      |", 0
			db "[----------} . {-} . |             | . {-} . {---------] |                                                             |", 0
			db "|  . . . . . .     . |             | .     . . . . . . | | - USE THE ARROW KEYS TO MOVE PACMAN                         |", 0
			db "{----------] . [-] . |             | . [-] . [---------} | - DON'T MAKE CONTACT WITH THE GHOSTS                        |", 0
			db "           | . | | . {-------------} . | | . |           | - EAT ALL THE DOTS TO MOVE TO THE NEXT LEVEL                |", 0
			db "           | . | | . . . . . . . . . . | | . |           |                                                             |", 0
			db "           | . | {---------------------} | . |           |  Value                                                      |", 0
			db " [---------} . | [---------------------] | . {---------] | - 1  dot   POINTS                                           |", 0
			db " | . . . . . . | | . . . . . . . . . . | | . . . . . . | |   5  fruit POINTS                                           |", 0
			db " | . [-----] . | | . . . . . . . . . . | | . [-----] . | {-------------------------------------------------------------}", 0
			db " | . {-----} . {-} . . . . . . . . . . {-} . {-----} . | |                                                              ", 0
			db " | . . . . . . . . . . . . . . . . . . . . . . . . . . | |                                                              ", 0
			db " | . [-----] . [-------] . [-] . [-------] . [-----] . | |                                                              ", 0
			db " | ~ |     | . |       | . | | . |       | . |     | ~ | | LIVES:                                                       ", 0
			db " | . {-----} . {-------} . | | . {-------} . {-----} . | |                                                              ", 0
			db " {]. . . . . . . . . . . . | | . . . . . . . . . . . . | |                                                              ", 0
			db " !{---------------------------------------------------------------------------------------------------------------------", 0
			db "                                                                                                                        ", 0
  
  	lvl2    db " ![------------------------------------------------------------------------------------------------------------------] !", 0
		    db " [}. . . . . . . . . . . . | | . . . . . . . . . . . . | | SCORE:                                            LVL:    {-]", 0
		    db " | . [-----] . [-------] . | | . [-------] . [-----] . | {-------------------------------------------------------------}", 0
			db " | ~ |     | . |       | . | | . |       | . |     | ~ | |                                                              ", 0
			db " | . {-----} . {-------} . {-} . {-------} . {-----} . | | @@@@@@@     @        @@@@    @       @      @      @    @@@  ", 0
			db " | . . . . . . . . . . . . . . . . . . . . . . . . . . | | @@@@@@@@   @@@     @@@@@@@@  @@@   @@@     @@@     @@@  @@@  ", 0
			db " | . [-----] . [-] . [-------------] . [-] . [-----] . | | @@@@@@@@  @@@@@   @@@@@      @@@@@@@@@    @@@@@    @@@@@@@@  ", 0
			db " | . {-----} . | | . {-----] [-----} . | | . {-----} . | | @@@@     @@@@@@@   @@@@@@@@  @@@@@@@@@   @@@@@@@   @@@@@@@@  ", 0
			db " | . . . . . . | | . . . . | | . . . . | | . . . . . . | | @@@@    @@@@@@@@@    @@@@    @@@@@@@@@  @@@@@@@@@  @@@@@@@@  ", 0
			db " {---------] . | {---------} {---------} | . [---------} |                              by Muhammad Saad Raza           ", 0
			db "           | . | [---------------------] | . |           |                                                              ", 0
			db "           | . | | . . . . . . . . . . | | . |           [-------------------------------------------------------------]", 0
			db "           | . | | . [-------------] . | | . |           | RULES:                                                      |", 0
			db "[----------} . {-} . |             | . {-} . {---------] |                                                             |", 0
			db "|  . . . . . .     . |             | .     . . . . . . | | - USE THE ARROW KEYS TO MOVE PACMAN                         |", 0
			db "{----------] . [-] . |             | . [-] . [---------} | - DON'T MAKE CONTACT WITH THE GHOSTS                        |", 0
			db "           | . | | . {-------------} . | | . |           | - EAT ALL THE DOTS TO MOVE TO THE NEXT LEVEL                |", 0
			db "           | . | | . . . . . . . . . . | | . |           |                                                             |", 0
			db "           | . | {---------------------} | . |           |  Value                                                      |", 0
			db " [---------} . | [---------] [---------] | . {---------] | - 1  dot   POINTS                                           |", 0
			db " | . . . . . . | | . . . . | | . . . . | | . . . . . . | |   5  fruit POINTS                                           |", 0
			db " | . [-----] . | | . [-----} {-----] . | | . [-----] . | {-------------------------------------------------------------}", 0
			db " | . {-----} . {-} . {-------------} . {-} . {-----} . | |                                                              ", 0
			db " | . . . . . . . . . . . . . . . . . . . . . . . . . . | |                                                              ", 0
			db " | . [-----] . [-------] . [-] . [-------] . [-----] . | |                                                              ", 0
			db " | ~ |     | . |       | . | | . |       | . |     | ~ | | LIVES:                                                       ", 0
			db " | . {-----} . {-------} . | | . {-------} . {-----} . | |                                                              ", 0
			db " {]. . . . . . . . . . . . | | . . . . . . . . . . . . | |                                                              ", 0
			db " !{---------------------------------------------------------------------------------------------------------------------", 0
			db "                                                                                                                        ", 0

	lvl3    db " ![------------------------------------------------------------------------------------------------------------------] !", 0
		    db " [}. . . . . . . . . . . . | | . . . . . . . . . . . . | | SCORE:                                            LVL:    {-]", 0
		    db " | . [-----] . [-------] . | | . [-------] . [-----] . | {-------------------------------------------------------------}", 0
			db " | ~ |     | . |       | . | | . |       | . |     | ~ | |                                                              ", 0
			db " | . {-----} . {-------} . {-} . {-------} . {-----} . | | @@@@@@@     @        @@@@    @       @      @      @    @@@  ", 0
			db " | . . . . . . . . . . . . . . . . . . . . . . . . . . | | @@@@@@@@   @@@     @@@@@@@@  @@@   @@@     @@@     @@@  @@@  ", 0
			db " | . [-----] . [-] . [-------------] . [-] . [-----] . | | @@@@@@@@  @@@@@   @@@@@      @@@@@@@@@    @@@@@    @@@@@@@@  ", 0
			db " | . {-----} . | | . {-----] [-----} . | | . {-----} . | | @@@@     @@@@@@@   @@@@@@@@  @@@@@@@@@   @@@@@@@   @@@@@@@@  ", 0
			db " | . . . . . . | | . . . . | | . . . . | | . . . . . . | | @@@@    @@@@@@@@@    @@@@    @@@@@@@@@  @@@@@@@@@  @@@@@@@@  ", 0
			db " {---------] . | {-----]   | |   [-----} | . [---------} |                              by Muhammad Saad Raza           ", 0
			db "           | . | [-----}   {-}   {-----] | . |           |                                                              ", 0
			db "           | . | | . . . . . . . . . . | | . |           [-------------------------------------------------------------]", 0
			db "           | . | | . [-------------] . | | . |           | RULES:                                                      |", 0
			db "[----------} . {-} . |             | . {-} . {---------] |                                                             |", 0
			db "|  . . . . . .     . |             | .     . . . . . . | | - USE THE ARROW KEYS TO MOVE PACMAN                         |", 0
			db "{----------] . [-] . |             | . [-] . [---------} | - DON'T MAKE CONTACT WITH THE GHOSTS                        |", 0
			db "           | . | | . {-------------} . | | . |           | - EAT ALL THE DOTS TO MOVE TO THE NEXT LEVEL                |", 0
			db "           | . | | . . . . . . . . . . | | . |           |                                                             |", 0
			db "           | . | {-----]   [-]   [-----} | . |           |  Value                                                      |", 0
			db " [---------} . | [-----}   | |   {-----] | . {---------] | - 1  dot   POINTS                                           |", 0
			db " | . . . . . . | | . . . . | | . . . . | | . . . . . . | |   5  fruit POINTS                                           |", 0
			db " | . [-----] . | | . [-----} {-----] . | | . [-----] . | {-------------------------------------------------------------}", 0
			db " | . {-----} . {-} . {-------------} . {-} . {-----} . | |                                                              ", 0
			db " | . . . . . . . . . . . . . . . . . . . . . . . . . . | |                                                              ", 0
			db " | . [-----] . [-------] . [-] . [-------] . [-----] . | |                                                              ", 0
			db " | ~ |     | . |       | . | | . |       | . |     | ~ | | LIVES:                                                       ", 0
			db " | . {-----} . {-------} . | | . {-------} . {-----} . | |                                                              ", 0
			db " {]. . . . . . . . . . . . | | . . . . . . . . . . . . | |                                                              ", 0
			db " !{---------------------------------------------------------------------------------------------------------------------", 0
			db "                                                                                                                        ", 0





bx1 BYTE 24
by1 BYTE 17
bm1 BYTE "d"
ba1 BYTE "d",0,"w",0,"a",0,"s"
bv1 BYTE 0
bw1 dd 0

bx2 BYTE 13
by2 BYTE 17
bm2 BYTE "s"
ba2 BYTE "s",0,"a",0,"w",0,"d",0,"w",0,"a",0,"s",0,"d",0
bv2 BYTE 0
bw2 dd 0

bx3 BYTE 43
by3 BYTE 17
bm3 BYTE "w"
ba3 BYTE "w",0,"d",0,"s",0,"a",0,"s",0,"d",0,"w",0,"a",0
bv3 BYTE 0
bw3 dd 0

    namest db ":"
    nameste db 20 dup(?)
    grid dd 3719				; Fixed size of array containing map characters
	opsc dd 3630			; Fixed size of array containing opening splash screen characters
	endsc dd 3570				; Fixed size of array containing game over splash screen characters
    level db 1
ground1 BYTE "|",0ah,0
ground2 BYTE "|",0

temp byte ?

strScore BYTE "Your score is: ",0
score dd 0

xPos BYTE 1
yPos BYTE 14

xCoinPos BYTE ?
yCoinPos BYTE ?

inputChar BYTE ?


chartoprint db ?

chkc db 0
liv db 3
.code
main PROC
 


        call drawfrontpage
        mov eax,10 ;(black * 16)
        call SetTextColor
        mov dl,45
        mov dh,20
        call Gotoxy
        mov edx,OFFSET namest
        call WriteString
        mov edx,offset nameste 
        mov ecx,20 
        call readstring

    	call clrscr
        
        call drawmenupage

main ENDP
DrawPlayer PROC
    ; draw player at (xPos,yPos):
    mov eax,yellow ;(blue*16)
    call SetTextColor
    mov dl,xPos
    mov dh,yPos
    call Gotoxy
    mov ax,254
    call WriteChar
    ret
DrawPlayer ENDP
UpdatePlayer PROC



push ebp
mov ebp,esp
mov esi,[ebp+8]

cmp xPos,1
je m1
cmp xPos,54
je m1
;    mov esi,offset lvl3
    mov eax,0
    mov ebx,0
    mov ecx,0
    mov al,yPos
    mov cl,xPos
    mov bx,121
    ;inc ax
    mul bx
    add eax,ecx
    add esi,eax
    mov al,[esi]
    mov eax,0
    mov bl," "
    mov [esi],bl

    m1:
    mov dl,xPos
    mov dh,yPos
    call Gotoxy
    mov al," "
    call WriteChar
pop ebp
    ret
UpdatePlayer ENDP
drawfrontpage PROC


    mov ecx, opsc
    mov esi, OFFSET opsreen

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color
	    ret

drawfrontpage ENDP
drawmenupage PROC
M3:

    mov ecx, opsc
    mov esi, OFFSET mnsreen

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color


        M2:
        call ReadChar
        mov inputChar,al
        cmp inputChar,"g"
        je P
        cmp inputChar,"i"
        je i
        cmp inputChar,"h"
        je h
        cmp inputChar,"e"
        je e
        jmp M2


        P:
    	        call clrscr
                call d6
            cmp liv,0
            je M4
            cmp chkc,10
            je M4
    	        inc level
                call clrscr
                call d4
            cmp liv,0
            je M4
            cmp chkc,10
            je M4
    	        inc level
    	        call clrscr
                call d2
                M4:
    	        call clrscr
                call drawengpage;
		        mov eax, 1000;
		        call Delay
    	        call clrscr
                mov score,0
                mov level,1
                mov liv,3
            jmp M3

        I:
    	        call clrscr
            call drawinspage
    	        call clrscr
            jmp M3

        H:
    	        call clrscr
            call drawhpage
    	        call clrscr

            jmp M3
        E:

	    ret

drawmenupage ENDP
drawinspage PROC


    mov ecx, opsc
    mov esi, OFFSET Insreen

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color

        M2:
        call ReadChar
        mov inputChar,al
        cmp inputChar,"e"
        je e
        jmp M2
        E:


	    ret

drawinspage ENDP
drawengpage PROC


    mov ecx, opsc
    mov esi, OFFSET ensreen

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color

    
    
        mov eax,10 ;(black * 16)
        call SetTextColor
        mov dl,25
        mov dh,12
        call Gotoxy
        mov edx,OFFSET nameste
        call WriteString


        mov eax,10 ;(black * 16)
        call SetTextColor
        mov dl,90
        mov dh,12
        call Gotoxy
        mov eax,score
        call WriteInt

        mov eax,10 ;(black * 16)
        call SetTextColor
        mov dl,63
        mov dh,12
        call Gotoxy
        mov al,level
        call WriteInt

	    ret

drawengpage ENDP
drawhpage PROC


    mov ecx, opsc
    mov esi, OFFSET hgsreen

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color
	    
        
        
        
        M2:
        call ReadChar
        mov inputChar,al
        cmp inputChar,"e"
        je e
        jmp M2

        E:        
        
        
        
        ret

drawhpage ENDP
drawcharg PROC

    mov bl,chartoprint
    cmp bl,"["
    je @m1
    
    mov bl,chartoprint
    cmp bl,"]"
    je @m2

    mov bl,chartoprint
    cmp bl,"|"
    je @m3
    mov bl,chartoprint
    cmp bl,"-"
    je @m4
    mov bl,chartoprint
    cmp bl,"!"
    je @m5
    mov bl,chartoprint
    cmp bl,"{"
    je @m6
    mov bl,chartoprint
    cmp bl,"}"
    je @m7

    jmp @m8

    @m1:
	mov eax, 10
	call SetTextColor
	mov eax, 201
	call WriteChar
    jmp em


    @m2:
	mov eax, 10
	call SetTextColor
	mov eax, 187
	call WriteChar
    jmp em

    @m3:
	mov eax, 10
	call SetTextColor
	mov eax, 186
	call WriteChar
    jmp em

    @m4:
	mov eax, 10
	call SetTextColor
	mov eax, 205
	call WriteChar
    jmp em

    @m5:
	mov eax, 10
	call SetTextColor
	mov eax, 254
	call WriteChar
    jmp em

    @m6:
	mov eax, 10
	call SetTextColor
	mov eax, 200
	call WriteChar
    jmp em

    @m7:
	mov eax, 10
	call SetTextColor
	mov eax, 188
	call WriteChar
    jmp em

    @m8:
	mov eax, 10
	call SetTextColor
	mov eax,0
	mov al,chartoprint    
	call WriteChar
    jmp em


    em:
    ret
drawcharg ENDP
d2 PROC
    mov ecx, opsc
    mov esi, OFFSET lvl3

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color
        call d3
	    ret


d2 ENDP
d3 PROC
    ; draw ground at (0,29):
    mov eax,blue ;(black * 16)
    call SetTextColor
    call DrawPlayer
    call d8
    call d11
    call d16

    gameLoop:


       mov esi ,offset lvl3
       push esi
       call d22
       pop esi
       cmp chkc,0
       je exitGame




     call d19
        
       cmp chkc,1
       jne m4
       mov xPos,16
       mov yPos,5
       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
       call DrawPlayer
       dec liv
       m4:



     call d20
        
       cmp chkc,1
       jne m5
       mov xPos,16
       mov yPos,5
       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
       call DrawPlayer
       dec liv
       m5:





       call d21       
       cmp chkc,1
       jne m6
       mov xPos,16
       mov yPos,5
       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
       call DrawPlayer
       dec liv
       m6:







        mov esi,offset lvl3
        inc bw1
        cmp bw1,500
        jne m1
        push esi
        call d10
        pop esi
        mov bw1,0
        m1:


        mov esi,offset lvl3
        inc bw2
        cmp bw2,500
        jne m2
        push esi
        call d13
        pop esi
        mov bw2,0
        m2:



        mov esi,offset lvl3
        inc bw3
        cmp bw3,500
        jne m3
        push esi
        call d18
        pop esi
        mov bw3,0
        m3:

        mov eax,11 (black * 16)
        call SetTextColor
        mov dl,65
        mov dh,25
        call Gotoxy
        mov al,liv
        call WriteInt
        mov dl,65
        mov dh,1
        call Gotoxy
        mov eax,score
        call WriteInt
        mov dl,112
        mov dh,1
        call Gotoxy
        mov al,level
        call WriteInt



        ; get user key input:
        mov inputChar,0
         call ReadKey
        mov inputChar,al

        ; exit game if user types 'x':
        cmp inputChar,"x"
        je xgame

        cmp inputChar,"w"
        je moveUp

        cmp inputChar,"s"
        je moveDown

        cmp inputChar,"a"
        je moveLeft

        cmp inputChar,"d"
        je moveRight
        jmp gameLoop


        moveUp:
        
       mov esi,offset lvl3
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop

       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
            dec yPos
            call DrawPlayer
            mov eax,70
            call Delay
        jmp gameLoop




        moveDown:


       mov esi,offset lvl3
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop


       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
        inc yPos
        call DrawPlayer
        jmp gameLoop




        moveLeft:
        
        call d23
       mov esi,offset lvl3
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop



       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
        dec xPos
        call DrawPlayer
        jmp gameLoop





        moveRight:

        call d24

       mov esi,offset lvl3
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop


       mov esi,offset lvl3
       push esi
       call UpdatePlayer
       pop esi
        inc xPos
        call DrawPlayer
        jmp gameLoop

    jmp gameLoop

    xgame:
    mov chkc,10
    exitGame:
ret

d3 ENDP
d4 PROC
    mov ecx, opsc
    mov esi, OFFSET lvl2

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color
        call d5
	    ret



d4 ENDP
d5 PROC
    ; draw ground at (0,29):
    mov eax,blue ;(black * 16)
    call SetTextColor
    call DrawPlayer
    call d8
    call d11
;    call d16

    gameLoop:


       mov esi ,offset lvl2
       push esi
       call d22
       pop esi
       cmp chkc,0
       je exitGame




       call d19
        
       cmp chkc,1
       jne m4
       mov xPos,16
       mov yPos,5
       mov esi,offset lvl2
       push esi
       call UpdatePlayer
       pop esi
       call DrawPlayer
       dec liv
       m4:



     call d20
        
       cmp chkc,1
       jne m5
       mov xPos,16
       mov yPos,5
       mov esi,offset lvl2
       push esi
       call UpdatePlayer
       pop esi
       call DrawPlayer
       dec liv
       m5:





;       call d21       
;       cmp chkc,1
;       jne m6
;       mov xPos,16
;       mov yPos,5
;       mov esi,offset lvl2
;       push esi
;       call UpdatePlayer
;       pop esi
;       call DrawPlayer
;       dec liv
;       m6:







        mov esi,offset lvl2
        inc bw1
        cmp bw1,500
        jne m1
        push esi
        call d10
        pop esi
        mov bw1,0
        m1:


        mov esi,offset lvl2
        inc bw2
        cmp bw2,500
        jne m2
        push esi
        call d13
        pop esi
        mov bw2,0
        m2:



;        mov esi,offset lvl2
;        inc bw3
;        cmp bw3,500
;        jne m3
;        push esi
;        call d18
;        pop esi
;        mov bw3,0
 ;       m3:

        mov eax,11 (black * 16)
        call SetTextColor
        mov dl,65
        mov dh,25
        call Gotoxy
        mov al,liv
        call WriteInt
        mov dl,65
        mov dh,1
        call Gotoxy
        mov eax,score
        call WriteInt
        mov dl,112
        mov dh,1
        call Gotoxy
        mov al,level
        call WriteInt



        ; get user key input:
        mov inputChar,0
         call ReadKey
        mov inputChar,al

        ; exit game if user types 'x':
        cmp inputChar,"x"
        je xgame

        cmp inputChar,"w"
        je moveUp

        cmp inputChar,"s"
        je moveDown

        cmp inputChar,"a"
        je moveLeft

        cmp inputChar,"d"
        je moveRight
        jmp gameLoop


        moveUp:
       mov esi,offset lvl2
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop

       mov esi,offset lvl2
       push esi
       call UpdatePlayer
       pop esi
            dec yPos
            call DrawPlayer
            mov eax,70
            call Delay
        jmp gameLoop




        moveDown:


       mov esi,offset lvl2
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop


       mov esi,offset lvl2
       push esi
       call UpdatePlayer
       pop esi
        inc yPos
        call DrawPlayer
        jmp gameLoop




        moveLeft:
        
;        call d23
       mov esi,offset lvl2
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop



       mov esi,offset lvl2
       push esi
       call UpdatePlayer
       pop esi
        dec xPos
        call DrawPlayer
        jmp gameLoop





        moveRight:

 ;       call d24

       mov esi,offset lvl2
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop


       mov esi,offset lvl2
       push esi
       call UpdatePlayer
       pop esi
        inc xPos
        call DrawPlayer
        jmp gameLoop

    jmp gameLoop
        xgame:
    mov chkc,10

    exitGame:
ret

d5 ENDP
d6 PROC
    mov ecx, opsc
    mov esi, OFFSET lvl1

        M1:
	    mov eax, 0
	    mov al, [esi]
        mov chartoprint,al
	    call drawcharg
        inc esi
	    loop M1
	    mov eax, 8
	    call SetTextColor	; reset text color
        call d7
	    ret

d6 ENDP
d7 PROC
    ; draw ground at (0,29):
    mov eax,blue ;(black * 16)
    call SetTextColor
    call DrawPlayer
    call d8
;    call d11
;    call d16

    gameLoop:


       mov esi ,offset lvl1
       push esi
       call d22
       pop esi
       cmp chkc,0
       je exitGame




       call d19
        
       cmp chkc,1
       jne m4
       mov xPos,16
       mov yPos,5
       mov esi,offset lvl1
       push esi
       call UpdatePlayer
       pop esi
       call DrawPlayer
       dec liv
       m4:



;     call d20
;        
 ;      cmp chkc,1
  ;     jne m5
  ;     mov xPos,16
  ;     mov yPos,5
  ;     mov esi,offset lvl1
  ;     push esi
  ;     call UpdatePlayer
  ;     pop esi
  ;     call DrawPlayer
  ;     dec liv
  ;     m5:





;       call d21       
;       cmp chkc,1
;       jne m6
;       mov xPos,16
;       mov yPos,5
;       mov esi,offset lvl1
;       push esi
;       call UpdatePlayer
;       pop esi
;       call DrawPlayer
;       dec liv
;       m6:







        mov esi,offset lvl1
        inc bw1
        cmp bw1,500
        jne m1
        push esi
        call d10
        pop esi
        mov bw1,0
        m1:


   ;     mov esi,offset lvl1
   ;     inc bw2
   ;     cmp bw2,500
   ;     jne m2
   ;     push esi
   ;     call d13
   ;     pop esi
   ;     mov bw2,0
   ;     m2:



;        mov esi,offset lvl1
;        inc bw3
;        cmp bw3,500
;        jne m3
;        push esi
;        call d18
;        pop esi
;        mov bw3,0
 ;       m3:

        mov eax,11 (black * 16)
        call SetTextColor
        mov dl,65
        mov dh,25
        call Gotoxy
        mov al,liv
        call WriteInt
        mov dl,65
        mov dh,1
        call Gotoxy
        mov eax,score
        call WriteInt
        mov dl,112
        mov dh,1
        call Gotoxy
        mov al,level
        call WriteInt



        ; get user key input:
        mov inputChar,0
         call ReadKey
        mov inputChar,al

        ; exit game if user types 'x':
        cmp inputChar,"x"
        je xgame

        cmp inputChar,"w"
        je moveUp

        cmp inputChar,"s"
        je moveDown

        cmp inputChar,"a"
        je moveLeft

        cmp inputChar,"d"
        je moveRight
        jmp gameLoop


        moveUp:
       mov esi,offset lvl1
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop

       mov esi,offset lvl1
       push esi
       call UpdatePlayer
       pop esi
            dec yPos
            call DrawPlayer
            mov eax,70
            call Delay
        jmp gameLoop




        moveDown:


       mov esi,offset lvl1
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop


       mov esi,offset lvl1
       push esi
       call UpdatePlayer
       pop esi
        inc yPos
        call DrawPlayer
        jmp gameLoop




        moveLeft:
        
;        call d23
       mov esi,offset lvl1
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop



       mov esi,offset lvl1
       push esi
       call UpdatePlayer
       pop esi
        dec xPos
        call DrawPlayer
        jmp gameLoop





        moveRight:

 ;       call d24

       mov esi,offset lvl1
       push esi
        call d15
       pop esi
        cmp chkc,0
        je gameLoop


       mov esi,offset lvl1
       push esi
       call UpdatePlayer
       pop esi
        inc xPos
        call DrawPlayer
        jmp gameLoop

    jmp gameLoop
        xgame:
    mov chkc,10

    exitGame:
ret

d7 ENDP
d8 PROC
    ; draw player at (xPos,yPos):
    mov eax,11 ;(blue*16)
    call SetTextColor
    mov dl,bx1
    mov dh,by1
    call Gotoxy
    mov ax,254
    call WriteChar
    ret
d8 ENDP
d9 PROC

        mov esi,offset lvl3

        cmp bm1,"w"
        je w
        cmp bm1,"s"
        je s
        cmp bm1,"a"
        je a
        cmp bm1,"d"
        je d

        w:
        mov bx,0
        mov bl,bx1
        push bx
        mov bx,0
        mov bl,by1
        dec bx
   ;     dec bx
        push bx
        jmp d1
        
        
        s:
        mov bx,0
        mov bl,bx1
        push bx
        mov bx,0
        mov bl,by1
        inc bx
  ;      inc bx
        push bx
        jmp d1

        a:
        mov bx,0
        mov bl,bx1
        dec bx
        dec bx
        push bx
        mov bx,0
        mov bl,by1
        push bx

        jmp d1
        d:
        mov bx,0
        mov bl,bx1
        inc bx
        inc bx
        push bx
        mov bx,0
        mov bl,by1
        push bx


        d1:


        push esi
        call d14
        pop esi
        pop bx
        pop bx

        ret

d9 ENDP
d10 PROC
    push ebp
    mov ebp,esp
      call d9
      cmp chkc,0
      je m6
  
        mov esi,[ebp+8]

        mov eax,0
        mov ebx,0
        mov ecx,0
        mov al,by1
        mov cl,bx1
        mov bx,121
        mul bx
        add eax,ecx
        add esi,eax
        mov eax,0
        mov al,[esi]
                    mov eax,10 ;(blue*16)
            call SetTextColor

                mov dl,bx1
                mov dh,by1
                call Gotoxy
                mov al,[esi]
                call WriteChar
  
  
  
  
  
  
  
  
      cmp bm1,"w"
      je m1
      cmp bm1,"s"
      je m2
      cmp bm1,"a"
      je m3
      cmp bm1,"d"
      je m4
  
      m1:
      dec by1
      jmp m5
      m2:
      inc by1
      jmp m5
      m3:
      dec bx1
      jmp m5
      m4:
      inc bx1
      m5:

      call d8
      jmp m7
      m6:
         mov esi,offset ba1
        cmp bv1,8
        jne m8
        mov bv1,0
        m8:
        mov ebx,0
        mov bl,bv1
        mov al,[esi+ebx]
        mov bm1,al
        add bv1,2
      m7:


      pop ebp
      ret
d10 ENDP
d11 PROC
    ; draw player at (xPos,yPos):
    mov eax,12 ;(blue*16)
    call SetTextColor
    mov dl,bx2
    mov dh,by2
    call Gotoxy
    mov ax,254
    call WriteChar
    ret


d11 ENDP
d12 PROC

        mov esi,offset lvl3

        cmp bm2,"w"
        je w
        cmp bm2,"s"
        je s
        cmp bm2,"a"
        je a
        cmp bm2,"d"
        je d

        w:
        mov bx,0
        mov bl,bx2
        push bx
        mov bx,0
        mov bl,by2
        dec bx
   ;     dec bx
        push bx
        jmp d1
        
        
        s:
        mov bx,0
        mov bl,bx2
        push bx
        mov bx,0
        mov bl,by2
        inc bx
  ;      inc bx
        push bx
        jmp d1

        a:
        mov bx,0
        mov bl,bx2
        dec bx
        dec bx
        push bx
        mov bx,0
        mov bl,by2
        push bx

        jmp d1
        d:
        mov bx,0
        mov bl,bx2
        inc bx
        inc bx
        push bx
        mov bx,0
        mov bl,by2
        push bx


        d1:


        push esi
        call d14
        pop esi
        pop bx
        pop bx

        ret


d12 ENDP
d13 PROC
    push ebp
    mov ebp,esp
      call d12
      cmp chkc,0
      je m6
  
        mov esi,[ebp+8]

        mov eax,0
        mov ebx,0
        mov ecx,0
        mov al,by2
        mov cl,bx2
        mov bx,121
        mul bx
        add eax,ecx
        add esi,eax
        mov eax,0
        mov al,[esi]
            mov eax,10 ;(blue*16)
            call SetTextColor

                mov dl,bx2
                mov dh,by2
                call Gotoxy
                mov al,[esi]
                call WriteChar
  
  
  
  
  
  
  
  
      cmp bm2,"w"
      je m1
      cmp bm2,"s"
      je m2
      cmp bm2,"a"
      je m3
      cmp bm2,"d"
      je m4
  
      m1:
      dec by2
      jmp m5
      m2:
      inc by2
      jmp m5
      m3:
      dec bx2
      jmp m5
      m4:
      inc bx2
      m5:

      call d11
      jmp m7
      m6:
         mov esi,offset ba2
        cmp bv2,16
        jne m8
        mov bv2,0
        m8:
        mov ebx,0
        mov bl,bv2
        mov al,[esi+ebx]
        mov bm2,al
        add bv2,2
      m7:


      pop ebp
      ret


d13 ENDP
d14 PROC
push ebp
mov ebp,esp

mov esi,[ebp+8]

mov eax,0
mov ebx,0
mov ecx,0
mov ax,[ebp+12]
mov cx,[ebp+14]
mov bx,121
;inc ax
mul bx
add eax,ecx
add esi,eax
mov eax,0
mov al,[esi]

cmp al,"."
je m1
;jmp m4

cmp al,"~"
je m2
;jmp m4

cmp al," "
je m3
jmp m4

m1:
mov chkc,1
jmp m5

m2:
mov chkc,2
jmp m5

m3:
mov chkc,3
jmp m5

m4:
mov chkc,0

m5:

pop ebp
ret
d14 ENDP
d15 PROC

        push ebp
        mov ebp,esp
        mov esi,[ebp+8]

        cmp inputChar,"w"
        je w
        cmp inputChar,"s"
        je s
        cmp inputChar,"a"
        je a
        cmp inputChar,"d"
        je d

        w:
        mov bx,0
        mov bl,xPos
        push bx
        mov bx,0
        mov bl,yPos
        dec bx
        push bx
        jmp d1
        
        
        s:
        mov bx,0
        mov bl,xPos
        push bx
        mov bx,0
        mov bl,yPos
        inc bx
        push bx
        jmp d1

        a:
        mov bx,0
        mov bl,xPos
        dec bx
        push bx
        mov bx,0
        mov bl,yPos
        push bx

        jmp d1
        d:
        mov bx,0
        mov bl,xPos
        inc bx
        push bx
        mov bx,0
        mov bl,yPos
        push bx


d1:


        push esi
        call d14
        pop esi
        pop bx
        pop bx













cmp chkc,1
je m1

cmp chkc,2
je m2
jmp m5

m1:
inc score
jmp m5

m2:
add score,5
m5:
pop ebp
ret


d15 ENDP
d16 PROC
    ; draw player at (xPos,yPos):
    mov eax,13 ;(blue*16)
    call SetTextColor
    mov dl,bx3
    mov dh,by3
    call Gotoxy
    mov ax,254
    call WriteChar
    ret


d16 ENDP
d17 PROC

        mov esi,offset lvl3

        cmp bm3,"w"
        je w
        cmp bm3,"s"
        je s
        cmp bm3,"a"
        je a
        cmp bm3,"d"
        je d

        w:
        mov bx,0
        mov bl,bx3
        push bx
        mov bx,0
        mov bl,by3
        dec bx
   ;     dec bx
        push bx
        jmp d1
        
        
        s:
        mov bx,0
        mov bl,bx3
        push bx
        mov bx,0
        mov bl,by3
        inc bx
  ;      inc bx
        push bx
        jmp d1

        a:
        mov bx,0
        mov bl,bx3
        dec bx
        dec bx
        push bx
        mov bx,0
        mov bl,by3
        push bx

        jmp d1
        d:
        mov bx,0
        mov bl,bx3
        inc bx
        inc bx
        push bx
        mov bx,0
        mov bl,by3
        push bx


        d1:


        push esi
        call d14
        pop esi
        pop bx
        pop bx

        ret


d17 ENDP
d18 PROC
    push ebp
    mov ebp,esp
      call d17
      cmp chkc,0
      je m6
  
        mov esi,[ebp+8]

        mov eax,0
        mov ebx,0
        mov ecx,0
        mov al,by3
        mov cl,bx3
        mov bx,121
        mul bx
        add eax,ecx
        add esi,eax
        mov eax,0
        mov al,[esi]
            mov eax,10 ;(blue*16)
            call SetTextColor

                mov dl,bx3
                mov dh,by3
                call Gotoxy
                mov al,[esi]
                call WriteChar
  
  
  
  
  
  
  
  
      cmp bm3,"w"
      je m1
      cmp bm3,"s"
      je m2
      cmp bm3,"a"
      je m3
      cmp bm3,"d"
      je m4
  
      m1:
      dec by3
      jmp m5
      m2:
      inc by3
      jmp m5
      m3:
      dec bx3
      jmp m5
      m4:
      inc bx3
      m5:

      call d16
      jmp m7
      m6:
         mov esi,offset ba3
        cmp bv3,16
        jne m8
        mov bv3,0
        m8:
        mov ebx,0
        mov bl,bv3
        mov eax,0
        mov ax,[esi+ebx]
        mov bm3,al
        add bv3,2
      m7:


      pop ebp
      ret


d18 ENDP
d19 PROC

   mov chkc,0
   mov bl,xPos
   cmp bl,bx1
    jne m1
   mov bl,yPos
   cmp bl,by1
   jne m1
   mov chkc,1
   m1:
   ret
d19 ENDP
d20 PROC

   mov chkc,0
   mov bl,xPos
   cmp bl,bx2
    jne m1
   mov bl,yPos
   cmp bl,by2
   jne m1
   mov chkc,1
   m1:
   ret
d20 ENDP
d21 PROC

   mov chkc,0
   mov bl,xPos
   cmp bl,bx3
    jne m1
   mov bl,yPos
   cmp bl,by3
   jne m1
   mov chkc,1
   m1:
   ret
d21 ENDP

d22 PROC
   mov chkc,0
   push ebp
   mov ebp,esp
   mov esi,[ebp+8]

   mov ecx,opsc
   M1:
   mov ax,0
   mov al,[esi]
    cmp al,"."
    je M2
    cmp al,"~"
    je M2
    inc esi
    loop M1
    jmp M3
   M2:
   mov chkc,1
    M3:
   pop ebp
   ret
d22 ENDP




d23 Proc

    cmp ypos,14
    jne m1
    cmp xpos,2
    jge m1 
    call updatePlayer
    mov bl,54
    mov xpos,bl
    call Drawplayer
    m1:
    ret

d23 ENDP

d24 Proc
    cmp ypos,14
    jne m1
    cmp xpos,53
    jle m1
    call updatePlayer
    mov bl,1
    mov xpos,bl
    call Drawplayer
    mov chkc,1
    m1:
    ret

d24 ENDP




END main